---
layout: default
title: Library
permalink: /library
---
<div class="max-w-2xl mx-auto p-4">
  <input id="searchInput"
         type="text"
         placeholder="Search posts..."
         class="w-full p-2 border rounded">

  <div id="results" class="mt-4 space-y-4"></div>
</div>

<script>
  let posts = [];

  async function loadPosts() {
    const res = await fetch('/search.json');
    posts = await res.json();
  }

  function search(query) {
    query = query.toLowerCase();
    return posts.filter(p =>
      p.title.toLowerCase().includes(query) ||
      p.content.toLowerCase().includes(query)
    );
  }

  document.getElementById('searchInput').addEventListener('input', e => {
    const q = e.target.value.trim();
    const results = search(q);

    const container = document.getElementById('results');
    container.innerHTML = results.map(r => `
      <a href="${r.url}" class="block p-3 border rounded hover:bg-gray-100">
        <h3 class="font-bold">${r.title}</h3>
        <p class="text-sm opacity-70">${r.content.substring(0, 120)}...</p>
      </a>
    `).join('');
  });

  loadPosts();
</script>
